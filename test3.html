<!doctype html>
	<html>
		<head>
			<script src="lib/require.js" type="text/javascript"> </script>
		</head>
		<body>
			<script>	
				var antlr4 = require('antlr4/index');
				var EQLLexer = require('EQLLexer').EQLLexer;
				var EQLParser = require('EQLParser').EQLParser;
				var EQLListener = require('EQLListener').EQLListener;
				var ErrorListener = require('antlr4/error/ErrorListener').ErrorListener;
				
				var EQLGrammarErrorListener = function() {
					antlr4.error.ErrorListener.call(this);
					return this;
				}
				
				EQLGrammarErrorListener.prototype = Object.create(antlr4.error.ErrorListener.prototype);
				EQLGrammarErrorListener.constructor = EQLGrammarErrorListener;
				EQLGrammarErrorListener.prototype.syntaxError = function(rec, sym, line, col, msg, e) {
					console.log("errfunc: " + rec);
				}			


				let eqlQuery = "p";
				var chars = new antlr4.InputStream(eqlQuery);
				var lexer = new EQLLexer(chars);
				var tokens = new antlr4.CommonTokenStream(lexer);
				var parser = new EQLParser(tokens);
				var error_listener = new EQLGrammarErrorListener();
				parser.buildParseTrees = true;
				parser.addErrorListener(error_listener);
				var tree = parser.event_query();
			</script>
		</body>
	</html>